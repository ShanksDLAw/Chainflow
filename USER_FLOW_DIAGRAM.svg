<svg width="1200" height="800" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title { font-family: Arial, sans-serif; font-size: 24px; font-weight: bold; fill: #2c3e50; }
      .step-title { font-family: Arial, sans-serif; font-size: 14px; font-weight: bold; fill: #34495e; }
      .step-text { font-family: Arial, sans-serif; font-size: 12px; fill: #7f8c8d; }
      .box { fill: #ecf0f1; stroke: #bdc3c7; stroke-width: 2; rx: 8; }
      .user-box { fill: #3498db; stroke: #2980b9; stroke-width: 2; rx: 8; }
      .system-box { fill: #e74c3c; stroke: #c0392b; stroke-width: 2; rx: 8; }
      .zk-box { fill: #9b59b6; stroke: #8e44ad; stroke-width: 2; rx: 8; }
      .arrow { stroke: #34495e; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .user-text { fill: white; font-family: Arial, sans-serif; font-size: 12px; font-weight: bold; }
      .system-text { fill: white; font-family: Arial, sans-serif; font-size: 12px; font-weight: bold; }
      .zk-text { fill: white; font-family: Arial, sans-serif; font-size: 12px; font-weight: bold; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#34495e" />
    </marker>
  </defs>
  
  <!-- Title -->
  <text x="600" y="30" text-anchor="middle" class="title">SourceGuard User Flow - Supply Chain Verification</text>
  
  <!-- User Actions Column -->
  <text x="150" y="70" text-anchor="middle" class="step-title">USER ACTIONS</text>
  
  <!-- Step 1: User Access -->
  <rect x="50" y="90" width="200" height="60" class="user-box"/>
  <text x="150" y="110" text-anchor="middle" class="user-text">1. Access SourceGuard</text>
  <text x="150" y="125" text-anchor="middle" class="user-text">Platform</text>
  <text x="150" y="140" text-anchor="middle" class="user-text">(Web Dashboard)</text>
  
  <!-- Step 2: Product Input -->
  <rect x="50" y="180" width="200" height="60" class="user-box"/>
  <text x="150" y="200" text-anchor="middle" class="user-text">2. Enter Product Info</text>
  <text x="150" y="215" text-anchor="middle" class="user-text">(ID, Batch, Barcode)</text>
  <text x="150" y="230" text-anchor="middle" class="user-text">Click "Verify"</text>
  
  <!-- Step 3: View Results -->
  <rect x="50" y="270" width="200" height="60" class="user-box"/>
  <text x="150" y="290" text-anchor="middle" class="user-text">3. View Verification</text>
  <text x="150" y="305" text-anchor="middle" class="user-text">Results & Trust Score</text>
  <text x="150" y="320" text-anchor="middle" class="user-text">(Authentic/Risk Level)</text>
  
  <!-- System Processing Column -->
  <text x="450" y="70" text-anchor="middle" class="step-title">SYSTEM PROCESSING</text>
  
  <!-- Database Lookup -->
  <rect x="350" y="90" width="200" height="60" class="system-box"/>
  <text x="450" y="110" text-anchor="middle" class="system-text">Database Lookup</text>
  <text x="450" y="125" text-anchor="middle" class="system-text">Product Registry</text>
  <text x="450" y="140" text-anchor="middle" class="system-text">Supplier Validation</text>
  
  <!-- ML Trust Engine -->
  <rect x="350" y="180" width="200" height="60" class="system-box"/>
  <text x="450" y="200" text-anchor="middle" class="system-text">ML Trust Engine</text>
  <text x="450" y="215" text-anchor="middle" class="system-text">Risk Assessment</text>
  <text x="450" y="230" text-anchor="middle" class="system-text">Pattern Analysis</text>
  
  <!-- Response Generation -->
  <rect x="350" y="270" width="200" height="60" class="system-box"/>
  <text x="450" y="290" text-anchor="middle" class="system-text">Generate Response</text>
  <text x="450" y="305" text-anchor="middle" class="system-text">Verification Status</text>
  <text x="450" y="320" text-anchor="middle" class="system-text">Trust Score</text>
  
  <!-- ZK Proof Column -->
  <text x="750" y="70" text-anchor="middle" class="step-title">ZERO-KNOWLEDGE PROOFS</text>
  
  <!-- Circuit Execution -->
  <rect x="650" y="90" width="200" height="60" class="zk-box"/>
  <text x="750" y="110" text-anchor="middle" class="zk-text">Noir Circuit</text>
  <text x="750" y="125" text-anchor="middle" class="zk-text">Execution</text>
  <text x="750" y="140" text-anchor="middle" class="zk-text">(Privacy-Preserving)</text>
  
  <!-- Proof Generation -->
  <rect x="650" y="180" width="200" height="60" class="zk-box"/>
  <text x="750" y="200" text-anchor="middle" class="zk-text">Generate ZK Proof</text>
  <text x="750" y="215" text-anchor="middle" class="zk-text">Supply Chain Integrity</text>
  <text x="750" y="230" text-anchor="middle" class="zk-text">(No Data Exposure)</text>
  
  <!-- Cryptographic Validation -->
  <rect x="650" y="270" width="200" height="60" class="zk-box"/>
  <text x="750" y="290" text-anchor="middle" class="zk-text">Cryptographic</text>
  <text x="750" y="305" text-anchor="middle" class="zk-text">Validation</text>
  <text x="750" y="320" text-anchor="middle" class="zk-text">(Instant Verification)</text>
  
  <!-- Additional Features -->
  <text x="600" y="380" text-anchor="middle" class="step-title">ADDITIONAL FEATURES</text>
  
  <!-- Supplier Management -->
  <rect x="100" y="400" width="180" height="50" class="box"/>
  <text x="190" y="420" text-anchor="middle" class="step-title">Supplier Management</text>
  <text x="190" y="435" text-anchor="middle" class="step-text">Register & Monitor Suppliers</text>
  
  <!-- Product Registration -->
  <rect x="300" y="400" width="180" height="50" class="box"/>
  <text x="390" y="420" text-anchor="middle" class="step-title">Product Registration</text>
  <text x="390" y="435" text-anchor="middle" class="step-text">Add New Products to Chain</text>
  
  <!-- Risk Monitoring -->
  <rect x="500" y="400" width="180" height="50" class="box"/>
  <text x="590" y="420" text-anchor="middle" class="step-title">Risk Monitoring</text>
  <text x="590" y="435" text-anchor="middle" class="step-text">Real-time Alerts & Analytics</text>
  
  <!-- Search & Analytics -->
  <rect x="700" y="400" width="180" height="50" class="box"/>
  <text x="790" y="420" text-anchor="middle" class="step-title">Search & Analytics</text>
  <text x="790" y="435" text-anchor="middle" class="step-text">Advanced Product Search</text>
  
  <!-- Flow Arrows -->
  <!-- User flow -->
  <line x1="150" y1="150" x2="150" y2="170" class="arrow"/>
  <line x1="150" y1="240" x2="150" y2="260" class="arrow"/>
  
  <!-- User to System -->
  <line x1="250" y1="120" x2="340" y2="120" class="arrow"/>
  <line x1="250" y1="210" x2="340" y2="210" class="arrow"/>
  
  <!-- System flow -->
  <line x1="450" y1="150" x2="450" y2="170" class="arrow"/>
  <line x1="450" y1="240" x2="450" y2="260" class="arrow"/>
  
  <!-- System to ZK -->
  <line x1="550" y1="120" x2="640" y2="120" class="arrow"/>
  <line x1="550" y1="210" x2="640" y2="210" class="arrow"/>
  
  <!-- ZK flow -->
  <line x1="750" y1="150" x2="750" y2="170" class="arrow"/>
  <line x1="750" y1="240" x2="750" y2="260" class="arrow"/>
  
  <!-- Return flow -->
  <line x1="640" y1="300" x2="560" y2="300" class="arrow"/>
  <line x1="340" y1="300" x2="260" y2="300" class="arrow"/>
  
  <!-- Key Benefits -->
  <text x="600" y="500" text-anchor="middle" class="step-title">KEY BENEFITS</text>
  
  <rect x="50" y="520" width="280" height="80" class="box"/>
  <text x="190" y="540" text-anchor="middle" class="step-title">Privacy Protection</text>
  <text x="190" y="555" text-anchor="middle" class="step-text">• Zero-knowledge proofs keep trade secrets safe</text>
  <text x="190" y="570" text-anchor="middle" class="step-text">• Verify authenticity without data exposure</text>
  <text x="190" y="585" text-anchor="middle" class="step-text">• Cryptographic security guarantees</text>
  
  <rect x="350" y="520" width="280" height="80" class="box"/>
  <text x="490" y="540" text-anchor="middle" class="step-title">Instant Verification</text>
  <text x="490" y="555" text-anchor="middle" class="step-text">• Sub-second verification times</text>
  <text x="490" y="570" text-anchor="middle" class="step-text">• Real-time trust scoring</text>
  <text x="490" y="585" text-anchor="middle" class="step-text">• Immediate fraud detection</text>
  
  <rect x="650" y="520" width="280" height="80" class="box"/>
  <text x="790" y="540" text-anchor="middle" class="step-title">Supply Chain Transparency</text>
  <text x="790" y="555" text-anchor="middle" class="step-text">• End-to-end traceability</text>
  <text x="790" y="570" text-anchor="middle" class="step-text">• Supplier verification</text>
  <text x="790" y="585" text-anchor="middle" class="step-text">• Risk assessment & monitoring</text>
  
  <!-- User Types -->
  <text x="600" y="640" text-anchor="middle" class="step-title">TARGET USERS</text>
  
  <rect x="150" y="660" width="150" height="60" class="user-box"/>
  <text x="225" y="680" text-anchor="middle" class="user-text">Manufacturers</text>
  <text x="225" y="695" text-anchor="middle" class="user-text">Product Registration</text>
  <text x="225" y="710" text-anchor="middle" class="user-text">& Verification</text>
  
  <rect x="350" y="660" width="150" height="60" class="user-box"/>
  <text x="425" y="680" text-anchor="middle" class="user-text">Distributors</text>
  <text x="425" y="695" text-anchor="middle" class="user-text">Supply Chain</text>
  <text x="425" y="710" text-anchor="middle" class="user-text">Validation</text>
  
  <rect x="550" y="660" width="150" height="60" class="user-box"/>
  <text x="625" y="680" text-anchor="middle" class="user-text">Retailers</text>
  <text x="625" y="695" text-anchor="middle" class="user-text">Product</text>
  <text x="625" y="710" text-anchor="middle" class="user-text">Authenticity</text>
  
  <rect x="750" y="660" width="150" height="60" class="user-box"/>
  <text x="825" y="680" text-anchor="middle" class="user-text">Consumers</text>
  <text x="825" y="695" text-anchor="middle" class="user-text">Trust &</text>
  <text x="825" y="710" text-anchor="middle" class="user-text">Verification</text>
  
</svg>