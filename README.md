# SourceGuard - Zero-Knowledge Supply Chain Verification Platform

*Revolutionizing supply chain transparency with privacy-preserving verification*

SourceGuard is a comprehensive zero-knowledge proof system that verifies product supply chain authenticity without revealing sensitive supplier information. This platform includes a modern web interface, robust backend API, and advanced ML-powered trust scoring.

## Overview

SourceGuard demonstrates how zero-knowledge proofs can be used to:
- Verify that products come from authorized suppliers
- Validate digital signatures without exposing private keys
- Prove supply chain authenticity while maintaining supplier privacy
- Provide real-time trust scoring and risk assessment
- Enable scalable verification through batch processing

## Architecture

### Frontend Web Application (`frontend/`)
Modern, responsive web interface featuring:
- **Dashboard**: Real-time supply chain monitoring with key metrics
- **Product Verification**: Search and verify product authenticity
- **Supplier Management**: Comprehensive supplier oversight and trust scoring
- **Registration System**: Easy onboarding for new suppliers and products

### Backend API (`backend/`)
Robust Node.js API providing:
- **RESTful Endpoints**: Complete CRUD operations for suppliers and products
- **ML Trust Engine**: Advanced machine learning algorithms for fraud detection
- **ZK Proof Integration**: Seamless zero-knowledge verification
- **Risk Assessment**: Real-time trust scoring and risk analysis

### ZK Circuit Design (`src/main.nr`)
The Noir circuit implements:
1. **Supplier Identity Verification**: Hashes supplier public keys to create commitments
2. **Signature Verification**: Validates product authenticity using simplified signature scheme
3. **Privacy Preservation**: Proves knowledge of supplier credentials without revealing them

## ML Trust Engine & Zero-Knowledge Integration

### Machine Learning Components

The ML Trust Engine (`ml-trust-engine.js`) provides sophisticated fraud detection and trust assessment capabilities:

#### Core ML Features
- **Multi-Factor Trust Assessment**: Evaluates supplier history, certification validity, supply chain integrity, product authenticity, temporal consistency, and behavioral patterns
- **Anomaly Detection**: Statistical and pattern-based detection of suspicious activities
- **Fraud Pattern Recognition**: Identifies known fraud patterns in batch numbers, supplier behaviors, and location risks
- **Adaptive Learning**: Continuously learns from historical data to improve detection accuracy
- **Confidence Scoring**: Provides confidence intervals for trust assessments

#### Trust Scoring Algorithm
The engine uses a weighted scoring system:
```
Trust Score = (
  Supplier History × 0.25 +
  Certification Validity × 0.20 +
  Supply Chain Integrity × 0.20 +
  Product Authenticity × 0.15 +
  Temporal Consistency × 0.10 +
  Behavioral Patterns × 0.10
) × 100
```

#### ML-ZK Integration Architecture

**1. Privacy-Preserving Trust Assessment**
- ML engine processes sensitive supplier and product data locally
- Trust scores and risk assessments are computed without exposing raw data
- ZK proofs validate the integrity of ML computations without revealing inputs

**2. Verifiable ML Outputs**
- Trust scores generated by ML algorithms are cryptographically verifiable
- ZK circuits prove that trust calculations follow predefined algorithms
- Third parties can verify trust assessments without accessing underlying data

**3. Secure Data Pipeline**
```
Raw Data → ML Processing → Trust Assessment → ZK Proof Generation → Verification
```

**4. Zero-Knowledge Trust Proofs**
- **Supplier Trust Proof**: Proves a supplier meets trust thresholds without revealing specific metrics
- **Product Authenticity Proof**: Validates product legitimacy without exposing manufacturing details
- **Supply Chain Integrity Proof**: Confirms supply chain compliance without revealing trade secrets

#### Advanced ML Features

**Behavioral Pattern Analysis**
- Analyzes naming consistency between products and supplier specialties
- Evaluates production timing patterns for anomaly detection
- Identifies suspicious batch numbering schemes

**Temporal Anomaly Detection**
- Detects future-dated or impossibly old manufacturing dates
- Identifies unusual production timing patterns
- Flags inconsistent temporal data across supply chain

**Adaptive Fraud Detection**
- Maintains historical patterns of legitimate and fraudulent cases
- Updates detection algorithms based on new fraud patterns
- Provides real-time risk assessment with confidence intervals

#### ML-ZK Synergy Benefits

1. **Privacy**: ML processes sensitive data while ZK ensures privacy
2. **Verifiability**: Trust scores are cryptographically verifiable
3. **Scalability**: Efficient computation with minimal data exposure
4. **Trust**: Stakeholders can verify assessments without accessing raw data
5. **Compliance**: Meets regulatory requirements for data protection

#### Implementation Flow

1. **Data Ingestion**: Supplier and product data enters the system
2. **ML Processing**: Trust engine analyzes data and generates trust scores
3. **ZK Proof Generation**: Trust assessments are converted to zero-knowledge proofs
4. **Verification**: Stakeholders verify trust claims without accessing sensitive data
5. **Learning**: System updates ML models based on verification outcomes

### Key Components
- **Public Inputs**: Merkle root, product ID
- **Private Inputs**: Supplier public keys, signatures, Merkle proof elements
- **Verification Logic**: Cryptographic proofs that supplier is authorized and product is authentic

## Project Structure

```
├── frontend/                # Web application
│   ├── index.html          # Main application interface
│   ├── styles.css          # Responsive styling
│   ├── script.js           # Frontend logic
│   └── server.js           # Development server
├── backend/                 # API server
│   ├── sourceguard-api.js  # Main API endpoints
│   └── ml-trust-engine.js  # ML-powered trust scoring
├── database/
│   └── products.json       # Product and supplier database
├── src/main.nr             # Zero-knowledge circuit
├── scripts/
│   ├── test-data.js        # Test data generation
│   └── compute-merkle-root.js # Merkle tree utilities
├── target/                 # Compiled circuit artifacts
├── BUSINESS_USE_CASE.md    # Business documentation
└── ZK_TECHNOLOGY_DOCUMENTATION.md # Technical documentation
```

## Getting Started

### Prerequisites
- [Node.js](https://nodejs.org/) (v16 or higher)
- [Noir](https://noir-lang.org/) for ZK circuit compilation
- Modern web browser

### Installation & Setup

1. **Install dependencies**:
   ```bash
   # Backend dependencies
   cd backend && npm install
   
   # Frontend dependencies
   cd ../frontend && npm install
   ```

2. **Start the backend API**:
   ```bash
   cd backend
   node sourceguard-api.js
   ```
   API will be available at `http://localhost:3001`

3. **Start the frontend application**:
   ```bash
   cd frontend
   node server.js
   ```
   Web app will be available at `http://localhost:3000`

4. **Compile ZK circuit** (optional):
   ```bash
   nargo compile
   nargo execute
   ```

### Using the Application

1. **Dashboard**: Monitor supply chain metrics and recent verifications
2. **Verify Products**: Search for products by ID, name, or batch number
3. **Manage Suppliers**: View supplier trust scores and verification status
4. **Register**: Add new suppliers and products to the system

## Features

### Current Implementation
- **Web Interface**: Complete dashboard for supply chain management
- **API Backend**: RESTful API with comprehensive endpoints
- **ML Trust Engine**: Advanced fraud detection and risk assessment
- **ZK Verification**: Privacy-preserving authenticity proofs
- **Real-time Monitoring**: Live dashboard with key metrics
- **Responsive Design**: Mobile-friendly interface

### Production Roadmap
- Full EdDSA signature implementation
- Enhanced Merkle tree verification
- Enterprise database integration
- Advanced cryptographic hash functions (Poseidon)
- Multi-chain blockchain integration
- Advanced analytics and reporting

## Key Benefits

1. **Privacy-First**: Supplier details remain confidential while proving authenticity
2. **Trustless Verification**: Anyone can verify products without accessing sensitive data
3. **ML-Powered Trust**: Advanced algorithms detect fraud patterns and assess risk
4. **Scalable Architecture**: Efficient batch verification reduces costs
5. **User-Friendly**: Intuitive web interface for all stakeholders
6. **Real-time Insights**: Live monitoring and risk alerts

## Technical Specifications

- **Frontend**: Modern HTML5/CSS3/JavaScript with responsive design
- **Backend**: Node.js with Express.js framework
- **Database**: JSON-based with plans for enterprise database integration
- **ZK System**: Noir/Barretenberg with BN254 elliptic curve
- **ML Engine**: Custom fraud detection algorithms
- **Hash Functions**: Pedersen hash for cryptographic commitments

## API Endpoints

- `GET /api/suppliers` - List all suppliers
- `GET /api/products` - List all products
- `POST /api/suppliers` - Register new supplier
- `POST /api/products` - Register new product
- `GET /api/verify/:productId` - Verify product authenticity
- `GET /api/trust-score/:supplierId` - Get supplier trust score

SourceGuard demonstrates the practical application of zero-knowledge proofs in supply chain verification, combining cutting-edge cryptography with user-friendly interfaces and intelligent risk assessment.